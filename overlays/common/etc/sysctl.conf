# PGSD System Tuning Configuration
# FreeBSD sysctl settings for optimal desktop performance

# Security
security.bsd.see_other_uids=0          # Users can't see other users' processes
security.bsd.see_other_gids=0          # Users can't see other groups' processes
kern.randompid=1                        # Randomize PIDs for security

# Performance - ARC (ZFS cache) tuning
# Limit ZFS ARC to 50% of RAM (adjust based on system memory)
# vfs.zfs.arc.max="4294967296"         # 4GB max (uncomment and adjust)
vfs.zfs.arc.min="536870912"             # 512MB min

# Network performance
net.inet.tcp.sendspace=262144           # TCP send buffer
net.inet.tcp.recvspace=262144           # TCP receive buffer
net.inet.tcp.sendbuf_max=16777216       # Maximum send buffer
net.inet.tcp.recvbuf_max=16777216       # Maximum receive buffer
net.local.stream.sendspace=16384        # Unix socket send buffer
net.local.stream.recvspace=16384        # Unix socket receive buffer

# Shared memory (required for some desktop apps)
# Note: kern.ipc.shmmni and kern.ipc.shmseg are read-only tunables
# They must be set in /boot/loader.conf, not here

# Desktop responsiveness
kern.sched.preempt_thresh=224           # Improve interactive response
# Note: kern.hz is a read-only tunable set in /boot/loader.conf

# File system
vfs.usermount=1                         # Allow users to mount filesystems

# DRM/KMS (graphics)
# These are typically set in loader.conf but can be tuned here
# drm.debug=0                           # DRM debug level

# Audio buffer settings (OSS)
# Adjust if experiencing audio issues
# dev.pcm.0.play.vchans=4               # Number of virtual channels
