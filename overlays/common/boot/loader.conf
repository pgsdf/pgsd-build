# PGSD Boot Loader Configuration
# Located at /boot/loader.conf

# Boot Configuration
boot_serial="NO"                        # Disable serial console
boot_multicons="YES"                    # Enable multiple consoles
autoboot_delay="3"                      # Boot delay in seconds
beastie_disable="YES"                   # Disable boot menu artwork

# ZFS Root Configuration
vfs.root.mountfrom="zfs:pgsd/ROOT/default"
zfs_load="YES"                          # Load ZFS kernel module

# Graphics and DRM
# Load DRM kernel modules for graphics
drm.load="YES"                          # Direct Rendering Manager
i915kms_load="YES"                      # Intel graphics (load unconditionally)
amdgpu_load="YES"                       # AMD graphics (load unconditionally)
# radeonkms_load="YES"                  # Older AMD graphics (if needed)

# Input Devices
# Load evdev for modern input handling (Wayland)
evdev_load="YES"                        # Event device support
uinput_load="YES"                       # Userspace input device support

# Wireless Network
if_iwm_load="YES"                       # Intel WiFi
if_iwn_load="YES"                       # Intel WiFi (older)
# if_ath_load="YES"                     # Atheros WiFi (if needed)
# if_run_load="YES"                     # Ralink/Mediatek WiFi (if needed)

# Wireless Security
wlan_wep_load="YES"                     # WEP support
wlan_ccmp_load="YES"                    # WPA2 CCMP
wlan_tkip_load="YES"                    # WPA TKIP

# Webcam support
cuse_load="YES"                         # CUSE (for webcam support)
# pwcbsd_load="YES"                     # Philips webcams (if needed)

# CPU Microcode Updates
cpu_microcode_load="YES"                # Load CPU microcode
cpu_microcode_name="/boot/firmware/intel-ucode.bin"  # Intel (adjust for AMD)

# Filesystem Support
# ext2fs_load="YES"                     # Linux ext2/3/4 (if needed)
# fuse_load="YES"                       # FUSE filesystem support

# Performance Tuning
kern.hz="1000"                          # Increase timer frequency for responsiveness
kern.ipc.shmseg="1024"                  # Shared memory segments
kern.ipc.shmmni="1024"                  # Shared memory identifiers

# Console Settings
kern.vty="vt"                           # Use vt console driver (required for DRM)
kern.vt.fb.default_mode="1920x1080"     # Default framebuffer mode

# Verbose Boot (disable in production)
# boot_verbose="YES"                    # Verbose boot messages
# verbose_loading="YES"                 # Show module loading messages
