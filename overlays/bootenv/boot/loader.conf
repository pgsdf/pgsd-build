# PGSD Boot Environment Loader Configuration
# This configuration is for bootable ISO live environments
# DO NOT use ZFS root - the ISO is a CD9660 filesystem

# Boot Configuration
boot_serial="NO"
boot_multicons="YES"
autoboot_delay="3"
beastie_disable="YES"

# Root Filesystem - Explicitly set during ISO build
# For ISOs, this will be CD9660 (ISO 9660 filesystem)
# The ISO build process replaces this with: vfs.root.mountfrom="cd9660:iso9660/LABEL"
# This explicit configuration is critical for BIOS boot on bare metal
vfs.root.mountfrom=""

# ZFS Support (for reading embedded images, not for root)
zfs_load="YES"

# Graphics and DRM
drm.load="YES"
i915kms_load="YES"
amdgpu_load="YES"

# Input Devices
evdev_load="YES"
uinput_load="YES"

# Wireless Network
if_iwm_load="YES"
if_iwn_load="YES"

# Wireless Security
wlan_wep_load="YES"
wlan_ccmp_load="YES"
wlan_tkip_load="YES"

# Webcam support
cuse_load="YES"

# CPU Microcode Updates
cpu_microcode_load="YES"
cpu_microcode_name="/boot/firmware/intel-ucode.bin"

# Performance Tuning
kern.hz="1000"
kern.ipc.shmseg="1024"
kern.ipc.shmmni="1024"

# Console Settings
kern.vty="vt"
kern.vt.fb.default_mode="1920x1080"

# Boot Environment Specific Settings
# Mount root filesystem read-only initially
# rc.d scripts will set up writable tmpfs overlays for /tmp, /var, etc.
vfs.root.mountfrom.options="ro"

# Verbose boot for troubleshooting (disable in production)
# boot_verbose="YES"
# verbose_loading="YES"
